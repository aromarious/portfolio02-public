# Zustand状態管理 手動テスト手順書

## 概要

Zustand移行後の状態管理機能をブラウザで手動テストする手順書です。
自動テストでカバーできない実際のユーザー操作とブラウザ環境での動作を確認します。

## テスト環境要件

- **ブラウザ**: Chrome, Firefox, Safari
- **画面サイズ**: デスクトップ (1200px+), タブレット (768px-1199px), モバイル (767px以下)
- **開発サーバー**: `pnpm dev` で起動済み

---

## 1. Header メニュー機能テスト

### 🎯 テスト目的

Zustandで管理されるメニュー開閉状態が正しく動作することを確認

### 📋 テスト手順

#### デスクトップ表示テスト

```
1. ブラウザで http://localhost:3000 を開く
2. ブラウザ幅を1200px以上に設定
3. ヘッダーの表示を確認

確認項目:
☐ ナビゲーションメニューが横並びで表示される
☐ ハンバーガーメニューボタンが非表示
☐ ソーシャルリンクが表示される
```

#### モバイル表示テスト

```
1. ブラウザ幅を767px以下に設定（DevToolsのモバイルビューを使用）
2. ハンバーガーメニューボタンをクリック
3. メニューが表示されることを確認
4. メニュー項目「About」をクリック
5. 再度ハンバーガーメニューボタンをクリック
6. Xアイコンをクリックしてメニューを閉じる

確認項目:
☐ ハンバーガーメニューボタン（≡）が表示される
☐ ボタンクリックでメニューが開く
☐ メニューが開くとアイコンがX（×）に変化
☐ メニュー項目クリックでメニューが自動的に閉じる
☐ Xアイコンクリックでメニューが閉じる
☐ メニューの開閉アニメーションが滑らか
```

---

## 2. Header スクロール背景変化テスト

### 🎯 テスト目的

スクロール位置に応じたヘッダー背景の変化がZustandで正しく管理されることを確認

### 📋 テスト手順

```
1. ページの最上部にスクロール位置を移動
2. ヘッダーの初期状態を確認
3. ゆっくりと下にスクロール（50px程度）
4. ヘッダーの背景変化を確認
5. さらに下にスクロール（100px以上）
6. ページの最上部に戻る
7. ヘッダーが初期状態に戻ることを確認

確認項目:
☐ 初期状態でヘッダー背景が透明
☐ 50px以上スクロールでヘッダーに以下が適用される：
  - 背景色（白/ダークグレー）
  - 半透明効果（opacity）
  - ぼかし効果（backdrop-blur）
  - 影効果（shadow）
☐ ページトップに戻ると背景が透明に戻る
☐ 背景変化のトランジションが滑らか（duration-300）
☐ ダークモード切り替え時も正しく動作
```

---

## 3. ContactForm 送信状態テスト

### 🎯 テスト目的

フォーム送信・エラー状態がZustandで正しく管理されることを確認

### 📋 テスト手順

#### 正常送信テスト

```
1. Contact セクションまでスクロール
2. フォームに以下のテストデータを入力：
   - お名前: テストユーザー
   - メールアドレス: test@example.com
   - お問い合わせ種別: お仕事のご相談
   - メッセージ: テスト送信です
3. 送信ボタンをクリック
4. 送信処理中の状態変化を観察
5. 送信完了後の状態変化を観察（3秒間）

確認項目:
☐ 送信前：「メッセージを送信」ボタンが青いグラデーション
☐ 送信中：
  - ボタンテキストが「送信中...」に変化
  - ローディングスピナーが表示
  - ボタンが無効化（グレーアウト）
  - クリック不可状態
☐ 送信完了：
  - ボタンが緑色に変化
  - チェックアイコンと「送信完了」テキスト表示
  - 3秒後に元の状態に自動復帰
  - フォームフィールドがリセット（名前、メール、件名、メッセージが空に）
```

#### エラー状態テスト

```
1. フォームに不正なデータを入力：
   - お名前: （空白）
   - メールアドレス: test@example.com
   - お問い合わせ種別: お仕事のご相談
   - メッセージ: テストエラー
2. 送信ボタンをクリック
3. バリデーションエラーを確認
4. 正しいデータに修正して再送信
5. ネットワークエラーをシミュレート（DevToolsでOffline設定）
6. 送信を試行してエラー表示を確認

確認項目:
☐ 必須フィールド未入力時にバリデーションエラー表示
☐ エラーメッセージが赤いアラートボックスで表示
☐ エラー解消後にエラーメッセージが消える
☐ ネットワークエラー時に適切なエラーメッセージ
☐ エラー状態でもフォームデータが保持される
```

---

## 4. 状態永続性・ブラウザ互換性テスト

### 🎯 テスト目的

異なる環境での一貫した動作とZustand状態の正しい初期化を確認

### 📋 テスト手順

#### ブラウザ互換性テスト

```
1. Chrome でテスト1-3を実行
2. Firefox でテスト1-3を実行
3. Safari でテスト1-3を実行
4. 各ブラウザでの動作差異を記録

確認項目:
☐ Chrome: 全機能が正常動作
☐ Firefox: 全機能が正常動作
☐ Safari: 全機能が正常動作
☐ 各ブラウザでアニメーション品質が一貫している
```

#### 状態初期化テスト

```
1. メニューを開いた状態でページをリロード
2. フォーム入力途中でページをリロード
3. エラー表示中にページをリロード
4. 送信完了状態でページをリロード

確認項目:
☐ リロード後にメニューが閉じた状態で初期化
☐ リロード後にフォーム状態が正しく初期化
☐ リロード後にエラー状態がクリアされている
☐ リロード後に送信状態がリセットされている
☐ 画面表示が即座に正しい状態で表示される
```

#### レスポンシブテスト

```
1. デスクトップ表示でメニューを確認
2. タブレット表示（768px-1199px）に変更
3. モバイル表示（767px以下）に変更
4. 各サイズでメニュー動作を確認
5. 画面サイズ変更時の状態保持を確認

確認項目:
☐ 画面サイズ変更時に状態が保持される
☐ レスポンシブブレークポイントで適切にUI切り替え
☐ タブレット/モバイルで正しくハンバーガーメニュー表示
☐ 画面回転時も正常動作（モバイルデバイステスト時）
```

---

## テスト結果記録

### 実施日時

- 実施日: **\*\***\_\_\_**\*\***
- 実施者: **\*\***\_\_\_**\*\***

### 結果サマリー

- [ ] Header メニュー機能: 正常 / 異常
- [ ] Header スクロール背景: 正常 / 異常
- [ ] ContactForm 送信状態: 正常 / 異常
- [ ] ブラウザ互換性: 正常 / 異常
- [ ] 状態永続性: 正常 / 異常
- [ ] レスポンシブ対応: 正常 / 異常

### 発見された問題

```
問題1: _______________
再現手順: _______________
期待動作: _______________
実際動作: _______________

問題2: _______________
...
```

### 総合評価

- [ ] 全テスト項目が正常に動作している
- [ ] 一部問題があるが運用可能レベル
- [ ] 重大な問題があり修正が必要

---

## 注意事項

- テスト実施前に開発サーバーが正常に起動していることを確認
- 各テスト項目は独立して実施可能
- 問題が発見された場合はブラウザのDevToolsのConsoleもチェック
- 自動テストと併せて97%のカバレッジを目指す
